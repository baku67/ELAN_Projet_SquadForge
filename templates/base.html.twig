<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
        <link rel="icon" type="image/x-icon" href="{{ asset('img/favicon_black.ico') }}" id="favicon_light_theme">
        <link rel="icon" type="image/x-icon" href="{{ asset('img/favicon.ico') }}" id="favicon_dark_theme">
        {# META description SEO #} 
        <title>{% block title %}Bienvenue!{% endblock %}</title>
        <meta name="description" content="{% block meta_description %}Créez ou rejoignez une team amateur ou esportive ! Partagez votre contenu ou du gameplay, et plus encore ...{% endblock %}">
        <meta name="keywords" content="Gaming, esport, Teams, Games, Forum, Topics, Media, session">
        <meta name="author" content="Basile Kuntz">
        {# Font Awesome: #}
        <script src="https://kit.fontawesome.com/698848973e.js" crossorigin="anonymous"></script>
        {# Jquery: #}
        <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
        {# Bootstrap: #}
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
        {# Font 'Julius Sans One' #}
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Julius+Sans+One&display=swap" rel="stylesheet">
        {# Font K2D #}
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=K2D:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
        {# Library "Giffer" player/stop-autoPlay(https://github.com/krasimir/gifffer) #}
        <script type="text/javascript" src="{{ asset('js/gifffer.min.js') }}"></script>
        {# ScrollReveal JS #}
        <script src="https://unpkg.com/scrollreveal"></script>
        {# Flash.js (popUp msg) #}
        <script src="{{ asset('flash.js/flash.min.js') }}"></script>
        {# Splide JS (slider/caroussel landingPage) #}
        <script src="{{ asset('js/splide.min.js') }}"></script>
        <link rel="stylesheet" href="{{ asset('css/splide.min.css') }}">
        {# FullCalendar #}
        <script src="{{ asset('js/fullCalendar.global.min.js') }}"></script>
        {# FlatPickr (= DateTime picker UX) #}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
        {# fullpage.js (onScroll nav section smooth) #}
        <link rel="stylesheet" href="{{ asset('css/aos.css') }}">
        <script src="{{ asset('js/aos.js') }}"></script>

        {# CSS #}
        {% block stylesheets %}
            <link rel="stylesheet" href="{{ asset('css/style.css') }}">
            <link rel="stylesheet" href="{{ asset('flash.js/flash.min.css') }}">
            <link rel="stylesheet" href="{{ asset('css/phone.css') }}">
        {% endblock %}

        {# JS #}
        {% block javascripts %}
            <script src="{{ asset('js/script.js') }}"></script>
        {% endblock %}

        {# Tarte au citron #}
        <script src="{{asset('tarteaucitron.js/tarteaucitron.js') }}"></script>

        <script type="text/javascript">
            tarteaucitron.init({
            "privacyUrl": "/privacy", /* Privacy policy url */
            "bodyPosition": "bottom", /* or top to bring it as first element for accessibility */

            "hashtag": "#tarteaucitron", /* Open the panel with this hashtag */
            "cookieName": "tarteaucitron", /* Cookie name */
        
            "orientation": "bottom", /* Banner position (top - bottom) */
        
            "groupServices": false, /* Group services by category */
            "showDetailsOnClick": true, /* Click to expand the description */
            "serviceDefaultState": "wait", /* Default state (true - wait - false) */
                            
            "showAlertSmall": false, /* Show the small banner on bottom right */
            "cookieslist": false, /* Show the cookie list */
                            
            "closePopup": false, /* Show a close X on the banner */

            "showIcon": true, /* Show cookie icon to manage cookies */
            "iconSrc": "{{ asset('img/cookieColor.png') }}", /* Optionnal: URL or base64 encoded image */
            "iconPosition": "BottomLeft", /* BottomRight, BottomLeft, TopRight and TopLeft */

            "adblocker": false, /* Show a Warning if an adblocker is detected */
                            
            "DenyAllCta" : true, /* Show the deny all button */
            "AcceptAllCta" : true, /* Show the accept all button when highPrivacy on */
            "highPrivacy": true, /* HIGHLY RECOMMANDED Disable auto consent */
                            
            "handleBrowserDNTRequest": false, /* If Do Not Track == 1, disallow all */

            "removeCredit": false, /* Remove credit link */
            "moreInfoLink": true, /* Show more info link */

            "useExternalCss": false, /* If false, the tarteaucitron.css file will be loaded */
            "useExternalJs": false, /* If false, the tarteaucitron.js file will be loaded */

            //"cookieDomain": ".my-multisite-domaine.fr", /* Shared cookie for multisite */
                            
            "readmoreLink": "", /* Change the default readmore link */

            "mandatory": true, /* Show a message about mandatory cookies */
            "mandatoryCta": true /* Show the disabled accept button when mandatory on */
            });
            // (tarteaucitron.job = tarteaucitron.job || []).push('twitch');
            // tarteaucitron.user.googleFonts = 'families';
            // (tarteaucitron.job = tarteaucitron.job || []).push('googlefonts');
        </script>

        {# Détection mode sombre/clair navigateur et adaptation favicon: #}
        <script>
            matcher = window.matchMedia('(prefers-color-scheme: dark)');
            matcher.addListener(onUpdate);
            onUpdate();

            lightSchemeIcon = document.querySelector('link#favicon_light_theme');
            darkSchemeIcon = document.querySelector('link#favicon_dark_theme');

            function onUpdate() {
            if (matcher.matches) {
                lightSchemeIcon.remove();
                document.head.append(darkSchemeIcon);
            } else {
                document.head.append(lightSchemeIcon);
                darkSchemeIcon.remove();
            }
            }
        </script>
    </head>



    <body>

        <div id="authenticationDiv" class="authenticationDiv">
            {% if app.user %}
                <a href="{{ path('app_user') }}" class="profil" id="profilBtnNav"><i class="fa-solid fa-user profilIcon"></i>  {{ app.user.pseudo|capitalize }}</a>
                <a href="{{ path('app_logout') }}" class="decoBtn"><i class="fa-solid fa-power-off decoBtnMobile"></i></a>
            {% else %}
                <a href="{{ path('app_login') }}" class="profil" id="loginBtnNav" style="border-right:2px solid #80808061">Connexion</a>
                <a href="{{ path('app_register') }}" class="profil" id="registerBtnNav" style="border-bottom-left-radius:0px;">S'inscrire</a>
            {% endif %}
        </div>

        <div id="scrollToTop"><i class="fa-solid fa-circle-arrow-up"></i></div>


        {% block body %}
        {% endblock %}

        {# Messages Falsh Symfony Controller #}
        {% for type, messages in app.flashes() %}
            {% for message in messages %}
                
                    {% if type == "success" %}
                        <script>
                            window.FlashMessage.success("{{ message }}");
                        </script>
                    {% elseif type == "error" %}
                        <script>
                            window.FlashMessage.error("{{ message }}");
                        </script>
                    {% endif %}
                    
            {% endfor %}
        {% endfor %}


        <script type="text/javascript">
            tarteaucitron.user.googleFonts = 'families';
            (tarteaucitron.job = tarteaucitron.job || []).push('googlefonts');
        </script>

        
        <footer id="footer" style="display:flex; flex-direction:column; position:relative;">

            {# Si pas de User connecté: bandeau CTA et adaptation espacement footer #}
            {% if not app.user %}
                {# // Si page login ou register, pas de CTA "Je m'inscris" footer #}
                <div id="footerRegisterCard" class="footerRegisterCard">
                    <span class="footerRegisterText">Rejoignez l'aventure dès maitenant !</span>
                    <a href="{{ path('app_register') }}" class="btn btn-primary footerRegisterCta">Je m'inscris <i class="fa-solid fa-arrow-right arrowCtaFooter"></i></a>
                </div>

                <script>
                    document.getElementById('footer').style.margin = "55px 0px 0px 0px";
                    document.getElementById('footer').style.padding = "65px 0px 10px 0px";

                    if(document.getElementById('noCtaFooter') !== null) {
                        
                        if(document.getElementById('noCtaFooter').innerText == "register") {

                            // Pas de CTA footer "je m'inscris"
                            document.getElementById('footerRegisterCard').style.display = "none";

                            // Nav register bouton actif
                            document.getElementById('registerBtnNav').style.backgroundColor = "var(--primary-color)";
                            document.getElementById('registerBtnNav').style.color = "black";
                            document.getElementById('registerBtnNav').style.padding = "6px 14px 7px 17px !important";
                        }
                        else if(document.getElementById('noCtaFooter').innerText == "login") {
                            // Nav login bouton actif
                            document.getElementById('loginBtnNav').style.backgroundColor = "var(--primary-color)";
                            document.getElementById('loginBtnNav').style.color = "black";
                            document.getElementById('loginBtnNav').style.padding = "6px 14px 7px 17px !important";
                        }
                    }
                </script>

            {% endif %}

            


            <div class="footerFlexContainer" style="width:90%; display:inline-flex; margin:0px auto 25px auto;">

                <div class="footerSection1" style="width:50%">
                    <h4 class="footerTitle"><i class="fa-solid fa-link footerIconMargin"></i> Liens utiles</h4>
                    <div class="footerSection1lists" style="display:inline-flex; width:100%; justify-content:space-evenly; margin:25px 0 0 0; font-family:'K2D', sans-serif; font-size:1.1em;">
                        <ul class="footerList" style="text-align: left;">
                            <li><a href="{{ path('app_home') }}">Accueil</a></li>
                            <li><a href="{{ path('app_login') }}">Se connecter</a></li>
                            <li><a href="{{ path('app_register') }}">S'enregistrer</a></li>
                            <li><a href="{{ path('app_showNotifsList') }}">Mes Notifications</a></li>
                            <li><a href="{{ path('app_user') }}">Mon Compte</a></li>
                        </ul>
                        <ul class="footerList" style="text-align: left; display:inline-flex; flex-direction:column; justify-content:space-between;">
                            <li><a href="{{ path('app_allTopicsGlobal') }}">Tous les topics</a></li>
                            <li><a href="{{ path('app_allMediasGlobal') }}">Tous les médias</a></li>
                            <li><a href="{{ path('app_games') }}">Tous les jeux</a></li>
                            {# TODO créer la page afficher toutes les teams publiques (adapter l'onglet: si connecté 'Mes teams', sinon 'teams'?) #}
                            <li><a href="{{ path('app_allGroupList') }}">Toutes les teams</a></li>
                        </ul>
                    </div>
                </div>

                <div class="footerSection2" style="width:50%; border-left: 1px solid #ffffff2e;">
                    <h4 class="footerTitle"><i class="fa-solid fa-globe footerIconMargin"></i> Contacts et réseaux</h4>
                    <ul class="footerNetworksList">
                        <li title="Discord"><i class="fa-brands fa-discord"></i></li>
                        <li title="x-twitter"><i class="fa-brands fa-x-twitter"></i></li>
                        <li title="Facebook"><i class="fa-brands fa-facebook"></i></li>
                        <li title="Instagram"><i class="fa-brands fa-instagram"></i></li>
                        <li title="Github"><i class="fa-brands fa-github"></i></li>
                    </ul>
                    <div>
                        <p class="contactMeTxt"><i class="fa-regular fa-paper-plane planeContactIcon"></i> Pour me contacter, rendez-vous sur mon <a href="https://www.portfolio.basilek.ovh" target="_blank" class="portfolioLink">Portfolio</a></p>
                    </div>
                </div>

            </div>

            <span>
                <a href="{{ path('app_home') }}">SquadForge</a> - 
                <a href="{{ path('app_privacy') }}">Conditions d'utilisation</a> - 
                <a>Règlement du site</a>
            </span>

        </footer>

    </body>


</html>
